{"ast":null,"code":"var _jsxFileName = \"/Users/aidandouglas/code/AidanFournier/ratatouille/src/Pages/components/Map.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useRef, useEffect } from 'react';\nvar mapboxgl = require('mapbox-gl/dist/mapbox-gl.js');\nvar marker = require('mapbox-gl/dist/mapbox-gl.js');\nmapboxgl.accessToken = 'pk.eyJ1IjoiYWlkenNoYWtlIiwiYSI6ImNsYW93NzBtZTBtNHYzdG9hM21tNHB0ZjkifQ.h-TKUdMdz0KeFbwbAzdtGg';\nexport function Map(_ref) {\n  _s();\n  var restaurants = _ref.restaurants;\n  var mapContainer = useRef(null);\n  var map = useRef(null);\n  var _useState = useState({\n      lat: 35.6762,\n      \"long\": 139.6503,\n      zoom: 10\n    }),\n    coords = _useState[0],\n    setCoords = _useState[1];\n  console.log(restaurants);\n  useEffect(function () {\n    if (map.current) return;\n    map.current = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: 'mapbox://styles/mapbox/streets-v11',\n      center: [restaurants[0].geocode.lon, restaurants[0].geocode.lat],\n      zoom: coords.zoom\n    });\n  });\n  useEffect(function () {\n    document.querySelectorAll(\".marker\").forEach(function (el) {\n      return el.remove();\n    });\n    restaurants.map(function (restaurant) {\n      var marker = new mapboxgl.Marker().setLngLat([restaurant.geocode.lon, restaurant.geocode.lat]).setPopup(new mapboxgl.Popup({\n        offset: 30\n      }).setHTML('<h4 className=\"marker\">' + 'Tokyo' + '<h4>')).addTo(map.current);\n    });\n  }, [restaurants]);\n  return __jsx(\"div\", {\n    ref: mapContainer,\n    style: {\n      width: '100%',\n      height: '50vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  });\n}\n_s(Map, \"TJX5RAd4x3KLRhgKfEbBZJ9VY7A=\");\n_c = Map;\nvar _c;\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["useState","useRef","useEffect","mapboxgl","require","marker","accessToken","Map","restaurants","mapContainer","map","lat","zoom","coords","setCoords","console","log","current","container","style","center","geocode","lon","document","querySelectorAll","forEach","el","remove","restaurant","Marker","setLngLat","setPopup","Popup","offset","setHTML","addTo","width","height"],"sources":["/Users/aidandouglas/code/AidanFournier/ratatouille/src/Pages/components/Map.tsx"],"sourcesContent":["import { useState, useRef, useEffect } from 'react';\n\nvar mapboxgl = require('mapbox-gl/dist/mapbox-gl.js');\nvar marker = require('mapbox-gl/dist/mapbox-gl.js');\nmapboxgl.accessToken = 'pk.eyJ1IjoiYWlkenNoYWtlIiwiYSI6ImNsYW93NzBtZTBtNHYzdG9hM21tNHB0ZjkifQ.h-TKUdMdz0KeFbwbAzdtGg';\n\ntype MapProps = {\n    restaurants: {[key: string]: any}\n}\n\nexport function Map ({restaurants}: MapProps) {\n    const mapContainer = useRef<any>(null);\n    const map = useRef<any>(null);\n    const [ coords, setCoords ] = useState({\n        lat: 35.6762,\n        long: 139.6503,\n        zoom: 10\n    })\n\n    console.log(restaurants);\n\n    useEffect(() => {\n        if (map.current) return;\n        map.current = new mapboxgl.Map({\n            container: mapContainer.current,\n            style: 'mapbox://styles/mapbox/streets-v11',\n            center: [restaurants[0].geocode.lon, restaurants[0].geocode.lat],\n            zoom: coords.zoom\n        });\n    }, );\n\n    useEffect(() => {\n        document.querySelectorAll(\".marker\").forEach(el => el.remove());\n        restaurants.map((restaurant: {[key: number]: any}) => {\n            var marker = new mapboxgl.Marker()\n                .setLngLat([restaurant.geocode.lon, restaurant.geocode.lat])\n                .setPopup(\n                    new mapboxgl.Popup({ offset: 30 })\n                        .setHTML('<h4 className=\"marker\">' + 'Tokyo' + '<h4>')\n                )\n                .addTo(map.current)\n        });\n    }, [restaurants]);\n\n    return (\n        <div ref={mapContainer} style={{width: '100%', height:'50vh'}}></div>\n    )\n}"],"mappings":";;;;AAAA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAEnD,IAAIC,QAAQ,GAAGC,OAAO,CAAC,6BAA6B,CAAC;AACrD,IAAIC,MAAM,GAAGD,OAAO,CAAC,6BAA6B,CAAC;AACnDD,QAAQ,CAACG,WAAW,GAAG,8FAA8F;AAMrH,OAAO,SAASC,GAAG,OAA2B;EAAA;EAAA,IAAxBC,WAAW,QAAXA,WAAW;EAC7B,IAAMC,YAAY,GAAGR,MAAM,CAAM,IAAI,CAAC;EACtC,IAAMS,GAAG,GAAGT,MAAM,CAAM,IAAI,CAAC;EAC7B,gBAA8BD,QAAQ,CAAC;MACnCW,GAAG,EAAE,OAAO;MACZ,QAAM,QAAQ;MACdC,IAAI,EAAE;IACV,CAAC,CAAC;IAJMC,MAAM;IAAEC,SAAS;EAMzBC,OAAO,CAACC,GAAG,CAACR,WAAW,CAAC;EAExBN,SAAS,CAAC,YAAM;IACZ,IAAIQ,GAAG,CAACO,OAAO,EAAE;IACjBP,GAAG,CAACO,OAAO,GAAG,IAAId,QAAQ,CAACI,GAAG,CAAC;MAC3BW,SAAS,EAAET,YAAY,CAACQ,OAAO;MAC/BE,KAAK,EAAE,oCAAoC;MAC3CC,MAAM,EAAE,CAACZ,WAAW,CAAC,CAAC,CAAC,CAACa,OAAO,CAACC,GAAG,EAAEd,WAAW,CAAC,CAAC,CAAC,CAACa,OAAO,CAACV,GAAG,CAAC;MAChEC,IAAI,EAAEC,MAAM,CAACD;IACjB,CAAC,CAAC;EACN,CAAC,CAAG;EAEJV,SAAS,CAAC,YAAM;IACZqB,QAAQ,CAACC,gBAAgB,CAAC,SAAS,CAAC,CAACC,OAAO,CAAC,UAAAC,EAAE;MAAA,OAAIA,EAAE,CAACC,MAAM,EAAE;IAAA,EAAC;IAC/DnB,WAAW,CAACE,GAAG,CAAC,UAACkB,UAAgC,EAAK;MAClD,IAAIvB,MAAM,GAAG,IAAIF,QAAQ,CAAC0B,MAAM,EAAE,CAC7BC,SAAS,CAAC,CAACF,UAAU,CAACP,OAAO,CAACC,GAAG,EAAEM,UAAU,CAACP,OAAO,CAACV,GAAG,CAAC,CAAC,CAC3DoB,QAAQ,CACL,IAAI5B,QAAQ,CAAC6B,KAAK,CAAC;QAAEC,MAAM,EAAE;MAAG,CAAC,CAAC,CAC7BC,OAAO,CAAC,yBAAyB,GAAG,OAAO,GAAG,MAAM,CAAC,CAC7D,CACAC,KAAK,CAACzB,GAAG,CAACO,OAAO,CAAC;IAC3B,CAAC,CAAC;EACN,CAAC,EAAE,CAACT,WAAW,CAAC,CAAC;EAEjB,OACI;IAAK,GAAG,EAAEC,YAAa;IAAC,KAAK,EAAE;MAAC2B,KAAK,EAAE,MAAM;MAAEC,MAAM,EAAC;IAAM,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAO;AAE7E;AAAC,GArCe9B,GAAG;AAAA,KAAHA,GAAG;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}